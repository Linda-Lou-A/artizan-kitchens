<!DOCTYPE html>
<html lang="en">
<head>
      <link rel="icon" type="image/jpeg" href="./images/favicon.jpg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
   <link href="./dist/output.css" rel="stylesheet">
    <title>Artizan Bedrooms - Bespoke Design</title>
    <!-- Load Tailwind CSS -->
    <!-- Use Inter font family -->
         <style>
        /* Define the required color palette as CSS variables */
        :root {
            --artizan-blue: #0079AB;
            --artizan-orange: #FF8800;
        }
        .font-inter {
            font-family: 'Inter', sans-serif;
        }
        .bg-artizan-blue {
            background-color: var(--artizan-blue);
        }
        .text-artizan-blue {
            color: var(--artizan-blue);
        }
        .bg-artizan-orange {
            background-color: var(--artizan-orange);
        }
        .hover\:bg-artizan-orange-dark:hover {
            background-color: #CC6D00;
        }
        .text-white-shadow {
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Styling for the section title underline */
        .section-title-border {
            border-bottom: 3px solid var(--artizan-blue); 
            display: inline-block; 
            padding-bottom: 5px;
        }

        /* Mobile Menu Control CSS */
        #mobile-menu {
            /* Start hidden by default, visible only when 'active' class is added by JS */
            display: none; 
        }
        #mobile-menu.active {
            display: block; 
        }
 /* Footer */
        footer { background-color: #333; color: #ccc; padding: 40px 20px; text-align: center; font-size: 0.9em; }
        .footer-links ul { list-style: none; padding: 0; display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .footer-links a { color: #ccc; text-decoration: none; transition: color 0.2s; }
        .footer-links a:hover { color: #FFC82D; } /* Using yellow for footer link hover */
        .contact-info p { margin: 5px 0; }
        .copyright { margin-top: 20px; border-top: 1px solid #555; padding-top: 15px; }
        /* Custom CSS for precise desktop menu spacing (sm: breakpoint and up) */
        @media (min-width: 640px) {
            /* Fixes the 1.2cm gap between Logo and 'Home' link */
            .desktop-nav-links {
                margin-left: 0.8cm !important; 
                /* Ensures no conflicting space-x or margin classes interfere */
                --tw-space-x-reverse: 0 !important;
            }
            /* Fixes the 2cm gap between menu items (applied to all except the last) */
            .desktop-nav-links a:not(:last-child) {
                margin-right: 1.4cm !important;
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-50">

    <!-- Navigation Bar -->
    <nav class="bg-white shadow-lg sticky top-0 z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Changed to simple 'flex' to keep logo and menu together -->
            <div class="flex items-center h-20"> 
                <div class="flex">
                    <!-- Logo/Brand Name -->
                    <div class="flex-shrink-0 flex items-center -ml-1">
    <span class="text-xl font-black tracking-wider text-artizan-blue">
        Artizan Kitchens
    </span>
</div>
                </div>

                <!-- Desktop Menu Links (Uses custom CSS for fixed spacing) -->
                <div class="hidden sm:flex desktop-nav-links items-center">
                    <a href="index.html" class="text-black font-bold border-b-2 border-transparent hover:border-artizan-blue py-5 px-3 transition duration-150">Home</a>
                    <a href="about.html" class="text-black font-bold border-b-2 border-transparent hover:border-artizan-blue py-5 px-3 transition duration-150">About</a>
                    <a href="kitchens.html" class="text-black font-bold border-b-2 border-transparent hover:border-artizan-blue py-5 px-3 transition duration-150">Kitchens</a>
                    <!-- Current Page Active Link -->
                    <a href="bedrooms.html" class="text-artizan-blue font-bold border-b-2 border-artizan-blue py-5 px-3 transition duration-150">Bedrooms</a>
                    <a href="testimonials.html" class="text-black font-bold border-b-2 border-transparent hover:border-artizan-blue py-5 px-3 transition duration-150">Testimonials</a>
                    <a href="contact.html" class="text-black font-bold border-b-2 border-transparent hover:border-artizan-blue py-5 px-3 transition duration-150">Contact</a>
                </div>

                <!-- Mobile Menu Button (Pushed to the far right using ml-auto on mobile screens) -->
                <div class="flex items-center sm:hidden ml-auto">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-artizan-blue hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-artizan-blue" aria-controls="mobile-menu" aria-expanded="false">
                        <!-- Icon SVG (Hamburger) -->
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Links (Hidden on medium screens and up) -->
        <div class="sm:hidden" id="mobile-menu">
            <div class="pt-2 pb-3 space-y-1 border-t border-gray-100">
                <a href="index.html" class="block px-4 py-2 text-base font-bold text-black hover:bg-gray-100">Home</a>
                <a href="about.html" class="block px-4 py-2 text-base font-bold text-black hover:bg-gray-100">About</a>
                <a href="kitchens.html" class="block px-4 py-2 text-base font-bold text-black hover:bg-gray-100">Kitchens</a>
                <a href="bedrooms.html" class="block px-4 py-2 text-base font-bold bg-gray-50 text-artizan-blue">Bedrooms</a>
                <a href="testimonials.html" class="block px-4 py-2 text-base font-bold text-black hover:bg-gray-100">Testimonials</a>
                <a href="contact.html" class="block px-4 py-2 text-base font-bold text-black hover:bg-gray-100">Contact</a>
            </div>
        </div>
    </nav>
<!-- Logo Placed ABOVE Hero Section (Centered) -->
<section style="padding: 20px 0; background-color: #ffffff;">
    <div class="container" style="text-align: center;">
        <!-- NOTE: The size (height: 80px) is just a suggestion. Adjust as needed! -->
        <img src="./images/logo.jpg" 
             alt="Artizan Kitchens Logo" 
             style="height: 100px; width: auto; display: block; margin: 0 auto;">
    </div>
</section>
    <!-- Hero Section -->
    <header class="bg-artizan-blue text-white shadow-2xl">
        <div class="max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8 text-center rounded-b-xl">
            <!-- Headline size adjusted to consistent text-4xl -->
            <h1 class="text-4xl font-extrabold tracking-tight mb-4 text-white-shadow">
                Designing Your Dream Space - Bespoke Wardrobes, Storage Solutions & Bathrooms.
            </h1>
            <!-- Subtitle size adjusted to consistent text-xl -->
            <p class="mt-4 text-xl font-light max-w-3xl mx-auto">
                Discover bespoke craftsmanship and tailored storage solutions for the ultimate sleep and sanctuary experience and <strong>effortless bathroom organization</strong>. 
            </p>
            <!-- Subtitle size adjusted to consistent text-xl -->
            <p class="mt-4 text-xl font-light max-w-3xl mx-auto">
                Optimise your living space with customer designed wardrobes that seemlessly blend impecable aesthetics with unparalleled internal functionality. 
            </p>
            <div class="mt-10 flex justify-center">
                <!-- Anchor link to the first section -->
                <a href="#minimalist" class="px-8 py-3 border border-transparent text-base font-medium rounded-full text-artizan-blue bg-white hover:bg-gray-100 transition duration-300 transform hover:scale-105 shadow-xl">
                    Explore Collections
                </a>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-20">

        <!-- Wardrobe Types Section -->
        <section class="pt-8 pb-16 lg:py-24 bg-white rounded-xl shadow-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-12 text-center">
                    <div id="minimalist" class="flex flex-col lg:flex-row items-start gap-8"></div>
                    <span class="section-title-border">Our Custom Wardrobe Collections</span>
                </h2>
            </div>
                <div class="space-y-16">
                    
                   <!-- 1. Minimalist Wardrobes (CORRECTED FLEX LAYOUT) -->
<div class="flex flex-col lg:flex-row items-start gap-8">
    
    <!-- Image: Takes 1/2 width on large screens (lg:w-1/2) -->
    <div class="lg:w-1/2 rounded-xl overflow-hidden shadow-2xl">
        <img src="./images/minimalist.jpg" 
             alt="Minimalist handleless wardrobe design" class="w-full h-auto object-cover rounded-xl"
             onerror="this.onerror=null; this.src='https://placehold.co/800x600/f0f0f0/333333?text=Minimalist+Wardrobe+Image';">
    </div>
    
    <!-- Text Content: Takes 1/2 width on large screens (lg:w-1/2) -->
    <div class="lg:w-1/2">
        <h3 class="text-3xl font-semibold text-gray-800 mb-4 section-title-border">Minimalist Collection</h3>
        <p class="text-gray-600 mb-4 text-lg">
            Experience true authentic minimalism where perfect, clean lines dominate. Our minimalist wardrobes are designed to seamlessly merge with the space, often becoming indistinguishable from decorative elements, giving rise to a unique, uncluttered environment. 
        </p>
        <p class="text-gray-600 text-lg">
            With <strong>handleless fronts</strong> typically finished in smooth lacquers or refined matt textures, the focus remains purely on aesthetics and effortless integration. High-quality hardware ensures functionality matches the pristine visual appeal, allowing you to utilise every corner stealthily.
        </p>
    </div>
    
</div>

                    <!-- 2. Hinged Door Wardrobes -->
                    <div id="hinged" class="flex flex-col lg:flex-row items-center gap-8 lg:gap-12 p-6 rounded-xl bg-white shadow-xl">
                        <div class="lg:w-1/2 order-1 lg:order-2 rounded-xl overflow-hidden shadow-2xl">
                            <img src="./images/hinged.jpg" 
                                alt="Hinged door wardrobe with Profile 66 handle" class="w-full h-auto object-cover rounded-xl"
                                onerror="this.onerror=null; this.src='https://placehold.co/800x600/e0e0e0/444444?text=Hinged+Door+Wardrobe+Image';">
                        </div>
                        <div class="lg:w-1/2 order-2 lg:order-1">
                            <h3 class="text-3xl font-semibold text-gray-800 mb-4 section-title-border">Hinged Door Collection</h3>
                            <p class="text-gray-600 mb-4 text-lg">
                                The hinged door collection offers a classic yet modern balance of forms, with well-defined volumes and elegant contrasts between open and closed elements, and light and dark materials. Each design reflects a passion for detail and a fusion of aesthetics and functionality.
                            </p>
                            <p class="text-gray-600 text-lg">
                                A key innovation is the <strong>Profile 66</strong>, which eliminates the need for external handles by integrating the opening mechanism into the frame, ensuring visual cleanliness and practicality. Behind every door lies a perfectly designed interior with seamless material combinations.
                            </p>
                        </div>
                    </div>

                    <!-- 3. Sliding Door Wardrobes -->
                    <div id="sliding" class="flex flex-col lg:flex-row items-center gap-8 lg:gap-12 p-6 rounded-xl bg-gray-50 shadow-inner">
                        <div class="lg:w-1/2 rounded-xl overflow-hidden shadow-2xl">
                            <img src="./images/sliding.jpg" 
                                alt="Sliding door wardrobe with silent mechanism" class="w-full h-auto object-cover rounded-xl"
                                onerror="this.onerror=null; this.src='https://placehold.co/800x600/f0f0f0/333333?text=Sliding+Door+Wardrobe+Image';">
                        </div>
                        <div class="lg:w-1/2">
                            <h3 class="text-3xl font-semibold text-gray-800 mb-4 section-title-border">Sliding Door Collection</h3>
                            <p class="text-gray-600 mb-4 text-lg">
                                Designed to flow with the space, our sliding door wardrobes are the perfect solution for optimising room without sacrificing elegance. They feature doors that glide with smoothness, clean lines, and a distribution planned to the millimeter.
                            </p>
                            <p class="text-gray-600 text-lg">
                                We use state-of-the-art hardware like the <strong>Corredora Apoyada Junior 6</strong> for heavy doors and the <strong>Corredera Sistemática 4</strong> with <strong>INDAmatic</strong> for soft, silent closing. These systems guarantee a comfortable, safe, and whisper-quiet user experience every day.
                            </p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Interior Equipment Section -->
        <section class="pb-16 lg:py-24 bg-white rounded-xl shadow-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-12 text-center">
                    <span class="section-title-border">Intelligent Interior Organisation</span>
                </h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto text-lg">
                    Every detail counts. We integrate specialised accessories with precision to offer an intuitive and ordered experience, combining comfort, functionality, and design in perfect harmony.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    
                    <!-- Hanger Bar -->
                    <div class="feature-card bg-gray-50 p-6 rounded-xl shadow-md border border-gray-100">
                        <img src="./images/hangers.jpg" 
                            alt="Elegant anthracite hanger bar" class="w-full h-auto rounded-lg mb-4"
                            onerror="this.onerror=null; this.src='https://placehold.co/600x400/f8fafc/333?text=Hanger+Bar+Image';">
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">Elegant Hanger Bar</h4>
                        <p class="text-gray-600">Discreet and elegant hanging bars, custom-sized to perfectly fit your cabinet, ensuring complete organisation. Available in a sophisticated <strong>Anthracite finish</strong>.</p>
                    </div>

                    <!-- Drawer Dividers -->
                    <div class="feature-card bg-gray-50 p-6 rounded-xl shadow-md border border-gray-100">
                        <img src="./images/dividers.jpg" 
                            alt="Custom drawer dividers for accessories" class="w-full h-auto rounded-lg mb-4"
                            onerror="this.onerror=null; this.src='https://placehold.co/600x400/f8fafc/333?text=Drawer+Dividers+Image';">
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">Custom Drawer Dividers</h4>
                        <p class="text-gray-600">Innovative, custom-sized box dividers for the ultimate organisation of smaller items and accessories within your wardrobe or dressing room drawers.</p>
                    </div>

                    <!-- Pull-out Racks -->
                    <div class="feature-card bg-gray-50 p-6 rounded-xl shadow-md border border-gray-100">
                        <img src="./images/drawers.jpg" 
                            alt="Pull-out trouser and shoe racks" class="w-full h-auto rounded-lg mb-4"
                            onerror="this.onerror=null; this.src='https://placehold.co/600x400/f8fafc/333?text=Pull+Out+Racks+Image';">
                        <h4 class="text-xl font-semibold text-gray-800 mb-2">Pull-out Racks & Solutions</h4>
                        <p class="text-gray-600">Specialised pull-out trouser racks, shoe racks, and other accessories in Anthracite finish for optimal internal use and easy access to every garment.</p>
                    </div>

                </div>
            </div>
        </section>
<!-- Call to Action Section - Brand Blue Background with Brand Yellow Button -->
<section class="py-16 bg-artizan-blue mt-12 rounded-xl shadow-2xl">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold text-white mb-4">Ready to design your perfect storage space?</h2>
        <p class="text-xl text-gray-300 mb-8">
            Let's discuss how we can create a custom wardrobe that fits your lifestyle and aesthetic vision.
        </p>
        <!-- Button background now using inline style to force yellow (#FFC82D) -->
        <a href="contact.html" 
           class="inline-block px-8 py-3 text-gray-900 text-lg font-semibold rounded-full shadow-lg transition duration-300 transform hover:scale-105"
           style="background-color: #FFC82D;">
            Contact Us for a Consultation
        </a>
    </div>
</section>
    </main>

     
    <!-- JavaScript for mobile menu toggle (Placed at the end of body for stability) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (menuButton && mobileMenu) {
                // Attach event listener for click
                menuButton.addEventListener('click', () => {
                    // Toggle the 'active' class, which is defined in the <style> block to show/hide the menu
                    mobileMenu.classList.toggle('active');
                    
                    // Update ARIA attribute for accessibility
                    const isExpanded = mobileMenu.classList.contains('active');
                    menuButton.setAttribute('aria-expanded', isExpanded);
                });
            } else {
                console.error("Mobile menu elements not found. Hamburger menu functionality disabled.");
            }
        });
    </script>
    <!-- FOOTER (Placeholder) -->
     <footer>
        <div class="container">
            <div class="footer-links">
                <ul>
                    <li><a href="testimonials.html">Reviews</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="privacy-policy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Use</a></li> 
                </ul>
            </div>
            <div class="contact-info">
                <p>Artizan Kitchens | Vera, Almería Spain</p>
                <p>Email: artizan4@yahoo.co.uk | Phone: +34 950 390 635 / 661 985 310</p>
            </div>
            <p class="copyright">&copy; 2025 Artizan Kitchens. All rights reserved.</p>
        </div>
    </footer>
    <!-- COOKIE CONSENT MODAL/BANNER -->
    <div id="cookie-consent-modal" class="fixed inset-x-0 bottom-0 z-50 p-4 transition-transform duration-500 transform translate-y-full">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-2xl border-t-4 border-artizan-blue p-6 md:flex md:items-center md:justify-between space-y-4 md:space-y-0">
            
            <!-- Standard Consent View -->
            <div id="consent-view-main" class="w-full flex flex-col md:flex-row md:items-center justify-between">
                <p class="text-gray-700 text-sm md:text-base md:mr-6">
                    We use cookies to enhance your browsing experience. By clicking "Accept All", you consent to the use of all cookies. You can manage your preferences at any time.
                    <a href="privacy.html" class="text-artizan-blue hover:underline font-medium ml-1 whitespace-nowrap">Read our policy.</a>
                </p>
                
                <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-4 md:mt-0 flex-shrink-0">
                    <button onclick="declineCookies()" class="px-4 py-2 text-sm font-semibold rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition duration-150">
                        Decline All
                    </button>
                    <button onclick="showModifySettings()" class="px-4 py-2 text-sm font-semibold rounded-lg text-artizan-blue hover:bg-artizan-blue hover:text-white transition duration-150 border border-artizan-blue">
                        Modify Settings
                    </button>
                    <button onclick="acceptCookies()" class="px-4 py-2 text-sm font-semibold rounded-lg bg-artizan-yellow text-gray-800 hover:bg-[#e5b428] transition duration-150">
                        Accept All
                    </button>
                </div>
            </div>

            <!-- Modify Settings View (Hidden by default) -->
            <div id="consent-view-modify" class="w-full hidden">
                <h3 class="text-xl font-bold text-artizan-blue mb-4 border-b pb-2">Cookie Preferences</h3>

                <div class="space-y-4 mb-6">
                    <!-- Essential Cookies -->
                    <label class="flex items-center space-x-3 cursor-not-allowed opacity-70">
                        <input type="checkbox" id="cookie-essential" name="cookie-essential" checked disabled class="h-5 w-5 rounded text-gray-400 bg-gray-100 border-gray-300">
                        <span class="text-base font-medium text-gray-900">Essential <span class="text-xs text-artizan-blue font-bold">(Always Active)</span></span>
                        <p class="text-sm text-gray-500 ml-auto">Required for basic site functionality.</p>
                    </label>

                    <!-- Analytical Cookies -->
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="checkbox" id="cookie-analytical" name="cookie-analytical" checked class="h-5 w-5 rounded text-artizan-blue focus:ring-artizan-blue border-gray-300">
                        <span class="text-base font-medium text-gray-900">Analytical</span>
                        <p class="text-sm text-gray-500 ml-auto">Helps us understand how the site is used.</p>
                    </label>

                    <!-- Marketing Cookies -->
                    <label class="flex items-center space-x-3 cursor-pointer">
                        <input type="checkbox" id="cookie-marketing" name="cookie-marketing" class="h-5 w-5 rounded text-artizan-blue focus:ring-artizan-blue border-gray-300">
                        <span class="text-base font-medium text-gray-900">Marketing</span>
                        <p class="text-sm text-gray-500 ml-auto">Used for personalized promotions.</p>
                    </label>
                </div>

                <div class="flex justify-end space-x-3">
                    <button onclick="showMainView()" class="px-4 py-2 text-sm font-semibold rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition duration-150">
                        Back
                    </button>
                    <button onclick="savePreferences()" class="px-4 py-2 text-sm font-semibold rounded-lg bg-artizan-blue text-white hover:bg-[#005f88] transition duration-150">
                        Save Preferences
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- END OF COOKIE CONSENT MODAL/BANNER -->

    <!-- START OF JAVASCRIPT: Place this script tag just before the closing </body> -->
    <script>
        // --- Cookie Consent Logic ---

        const CONSENT_KEY = 'artizan_cookie_consent';
        const modal = document.getElementById('cookie-consent-modal');
        const mainView = document.getElementById('consent-view-main');
        const modifyView = document.getElementById('consent-view-modify');
        
        const cookieTypes = ['analytical', 'marketing'];

        /** Checks localStorage on page load and shows the modal if no consent is found. */
        function checkConsentStatus() {
            const consent = localStorage.getItem(CONSENT_KEY);
            if (!consent) {
                // Show the modal by removing the 'translate-y-full' class
                modal.classList.remove('translate-y-full');
            } else {
                console.log('Cookie Consent Status:', consent);
            }
        }

        /** Sets the consent status in localStorage and hides the modal. */
        function setConsent(status, preferences = {}) {
            modal.classList.add('translate-y-full');
            
            let data = { status: status };
            if (status === 'custom') {
                data.preferences = preferences;
            }

            localStorage.setItem(CONSENT_KEY, JSON.stringify(data));
            console.log('Consent Updated:', data);
        }

        /** Handles the "Accept All" button click. */
        function acceptCookies() {
            const allPrefs = {};
            cookieTypes.forEach(type => allPrefs[type] = true);
            setConsent('accepted', allPrefs);
        }

        /** Handles the "Decline All" button click. */
        function declineCookies() {
            const noPrefs = {};
            cookieTypes.forEach(type => noPrefs[type] = false);
            setConsent('declined', noPrefs);
        }

        /** Switches the view to show the cookie modification settings. */
        function showModifySettings() {
            mainView.classList.add('hidden');
            modifyView.classList.remove('hidden');
            
            const consentData = JSON.parse(localStorage.getItem(CONSENT_KEY) || '{}');
            const prefs = consentData.preferences || {};
            
            document.getElementById('cookie-analytical').checked = prefs.analytical !== false;
            document.getElementById('cookie-marketing').checked = prefs.marketing === true;
        }

        /** Switches the view back to the main consent options. */
        function showMainView() {
            mainView.classList.remove('hidden');
            modifyView.classList.add('hidden');
        }

        /** Handles the "Save Preferences" button click from the modify view. */
        function savePreferences() {
            const preferences = {
                essential: true, 
                analytical: document.getElementById('cookie-analytical').checked,
                marketing: document.getElementById('cookie-marketing').checked,
            };
            
            const allAccepted = preferences.analytical && preferences.marketing;
            const allDeclined = !preferences.analytical && !preferences.marketing;

            if (allAccepted) {
                setConsent('accepted', preferences);
            } else if (allDeclined) {
                setConsent('declined', preferences);
            } else {
                setConsent('custom', preferences);
            }
            
            showMainView();
        }

        // Initialize the consent check once the DOM is fully loaded
        // This function must be placed AFTER the mobile menu toggle function if it exists.
        // It's called after all other window.onload tasks (like mobile menu toggle initialization).
        window.addEventListener('load', checkConsentStatus);

    </script>

</body>
</html>
